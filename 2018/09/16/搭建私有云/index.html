<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>搭建私有云 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="使用 VirtualBox 让 PC 提供云桌面服务 最近在学习一门新的课程服务计算，因为要统一用到一个linux的环境，所以第一次作业就布置了让我们利用virtualbox去搭建一个私有云。同时课程也给了我们一个简易的教程——私有云。从教程上来看，似乎搭建的过程并不复杂，只需几十分钟或几小时即可搞定了。但从实际的操作上来看，这个私有云的坑还是挺大的，遇上的问题也是千奇百怪。一开始根据教程，我选择">
<meta property="og:type" content="article">
<meta property="og:title" content="搭建私有云">
<meta property="og:url" content="http://yoursite.com/2018/09/16/搭建私有云/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="使用 VirtualBox 让 PC 提供云桌面服务 最近在学习一门新的课程服务计算，因为要统一用到一个linux的环境，所以第一次作业就布置了让我们利用virtualbox去搭建一个私有云。同时课程也给了我们一个简易的教程——私有云。从教程上来看，似乎搭建的过程并不复杂，只需几十分钟或几小时即可搞定了。但从实际的操作上来看，这个私有云的坑还是挺大的，遇上的问题也是千奇百怪。一开始根据教程，我选择">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://img-blog.csdn.net/20180914151305405?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180914150058354?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180914151352419?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180914151456892?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180914150127282?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180914150252856?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180914174558218?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180914174633239?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180914174813202?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:updated_time" content="2018-09-16T07:55:40.884Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="搭建私有云">
<meta name="twitter:description" content="使用 VirtualBox 让 PC 提供云桌面服务 最近在学习一门新的课程服务计算，因为要统一用到一个linux的环境，所以第一次作业就布置了让我们利用virtualbox去搭建一个私有云。同时课程也给了我们一个简易的教程——私有云。从教程上来看，似乎搭建的过程并不复杂，只需几十分钟或几小时即可搞定了。但从实际的操作上来看，这个私有云的坑还是挺大的，遇上的问题也是千奇百怪。一开始根据教程，我选择">
<meta name="twitter:image" content="https://img-blog.csdn.net/20180914151305405?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-搭建私有云" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/09/16/搭建私有云/" class="article-date">
  <time datetime="2018-09-16T07:54:19.000Z" itemprop="datePublished">2018-09-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      搭建私有云
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="使用-VirtualBox-让-PC-提供云桌面服务"><a href="#使用-VirtualBox-让-PC-提供云桌面服务" class="headerlink" title="使用 VirtualBox 让 PC 提供云桌面服务"></a>使用 VirtualBox 让 PC 提供云桌面服务</h1><hr>
<p>最近在学习一门新的课程服务计算，因为要统一用到一个linux的环境，所以第一次作业就布置了让我们利用virtualbox去搭建一个私有云。同时课程也给了我们一个简易的教程——<a href="https://pmlpml.github.io/ServiceComputingOnCloud/ex-install-cloud" target="_blank" rel="noopener">私有云</a>。从教程上来看，似乎搭建的过程并不复杂，只需几十分钟或几小时即可搞定了。但从实际的操作上来看，这个私有云的坑还是挺大的，遇上的问题也是千奇百怪。一开始根据教程，我选择了安装centos7，然而在更新内核时出现了问题，搜索了谷歌之后还是没有找到解决方案。在学习了同学的<a href="https://blog.csdn.net/PeanutDo1t/article/details/82595072" target="_blank" rel="noopener">博客</a>之后发现如果安装ubantu的话可能会更快捷一些，所以这个博客将主要介绍ubantu的私有云搭建方式。日后如果问题得到解决可以更新centos的教程。</p>
<h2 id="一、实验准备"><a href="#一、实验准备" class="headerlink" title="一、实验准备"></a>一、实验准备</h2><hr>
<p>1、下载并安装<a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener">VirtualBox 5.2.18</a><br>2、下载安装 Git 客户端（git bash）<a href="https://gitforwindows.org/" target="_blank" rel="noopener">地址</a><br>3、下载新版本ubantu，这里选用了16.04版本，因为这个版本的功能比较健全，系统也更为稳定，镜像的下载地址为<a href="http://mirrors.melbourne.co.uk/ubuntu-releases/" target="_blank" rel="noopener">desktop镜像</a><br>4、下载下载VirtualBox 5.2.18 拓展包，由于要使用virtualbox的远程桌面功能，必须要用到扩展包。安装步骤可参考<a href="http://www.xitongzu.com/jc/2440.html" target="_blank" rel="noopener">VirtualBox扩展增强包安装教程</a></p>
<h2 id="二、配置virtualbox"><a href="#二、配置virtualbox" class="headerlink" title="二、配置virtualbox"></a>二、配置virtualbox</h2><hr>
<p>1、配置 VirtualBox 虚拟机存储位置，避免找不到虚拟机存储位置，特别是消耗启动盘的宝贵空间<br>打开VirtualBox菜单 ：管理 -&gt; 全局设定，常规页面<br>2、创建虚拟机内部虚拟网络，使得 Vbox 内部虚拟机可以通过它，实现虚拟机之间、虚拟机与主机的通讯<br>打开VirtualBox菜单 ：管理 -&gt; 主机网络管理器，创建一块虚拟网卡，网址分配：192.168.100.1<br>3、在主机 windows 命令行窗口输入 ipconfig 就可以看到 VirtualBox Host-Only Network #?: 的网卡<br><img src="https://img-blog.csdn.net/20180914151305405?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p>
<h2 id="三、安装ubantu系统"><a href="#三、安装ubantu系统" class="headerlink" title="三、安装ubantu系统"></a>三、安装ubantu系统</h2><hr>
<p>接下来就要进入正题了，我们要通过虚拟机来安装系统。<br>1、通过新建按钮创建一个虚拟机，注意命名时要以ub开头，这样vb可以自动识别出系统类型，然后设置内存为4GB，创建虚拟硬盘32GB。<br><img src="https://img-blog.csdn.net/20180914150058354?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"><br>2、创建好后，再打开该虚拟机设置界面，将显存调至64mb，将网卡1设置为NAT，第二块网卡设置为 Host-Only，接口为前面创建的虚拟网卡<br><img src="https://img-blog.csdn.net/20180914151352419?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"><br>3、这时可以打开虚拟机进行安装。选择之前下载的镜像，之后根据提示一路进行安装，难度不大。</p>
<h2 id="四、设置虚拟机及宿主机网络"><a href="#四、设置虚拟机及宿主机网络" class="headerlink" title="四、设置虚拟机及宿主机网络"></a>四、设置虚拟机及宿主机网络</h2><hr>
<p>要使得我们能够远程连接上虚拟机，就必须要进行一些网络设置。<br>1、再设置中进入显示-远程桌面，勾选启用服务器，填写一个服务器端口号（不为3389）如果不勾选的话将不能进行远程桌面。<br><img src="https://img-blog.csdn.net/20180914151456892?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"><br>2、进入ubantu系统，打开网络设置，选择一个有线连接，手动设置ip为下<br><img src="https://img-blog.csdn.net/20180914150127282?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"><br>3、在宿主机中打开网络连接，选择之前设置的虚拟网卡，在共享中勾选允许其他网络通过此计算机<br>4、此时在虚拟机中ping之前设置的ip，可以看到是否连通。<br><img src="https://img-blog.csdn.net/20180914150252856?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p>
<h2 id="五、登陆远程桌面"><a href="#五、登陆远程桌面" class="headerlink" title="五、登陆远程桌面"></a>五、登陆远程桌面</h2><hr>
<p>1、打开cmd，输入ipconfig，查找到宿主机在网络中的IP地址。这里是192.168.199.210<br><img src="https://img-blog.csdn.net/20180914174558218?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"><br>2、打开windows下的远程桌面连接，输入这个IP和之前在VirtualBox中设置的远程桌面服务器端口号（5007），即可连接到远程桌面<br><img src="https://img-blog.csdn.net/20180914174633239?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p>
<p>点击确定进入远程桌面<br><img src="https://img-blog.csdn.net/20180914174813202?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pcmFjbGUzMw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p>
<h2 id="六、安装ubantu软件"><a href="#六、安装ubantu软件" class="headerlink" title="六、安装ubantu软件"></a>六、安装ubantu软件</h2><hr>
<p>1、安装谷歌浏览器chrome</p>
<p>打开终端，依次输入以下命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo wget http://www.linuxidc.com/files/repo/google-chrome.list -P /etc/apt/sources.list.d/</span><br><span class="line"></span><br><span class="line">wget -q -O - https://dl.google.com/linux/linux_signing_key.pub  | sudo apt-key add -</span><br><span class="line"></span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line"> sudo apt-get install google-chrome-stable</span><br><span class="line"></span><br><span class="line">/usr/bin/google-chrome-stable</span><br></pre></td></tr></table></figure></p>
<p>2、安装搜狗输入法</p>
<p>1、执行命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install fcitx libssh2-1</span><br></pre></td></tr></table></figure>
<p>2、接下来我们从搜狗官方下载deb包 ，下载地址在 <a href="http://pinyin.sogou.com/linux/" target="_blank" rel="noopener">http://pinyin.sogou.com/linux/</a> 根据你的系统选择32位或者64位<br>执行命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install fcitx libssh2-1</span><br></pre></td></tr></table></figure>
<p>3、 安装下载好的安装包命令<br> 4、系统设置&gt;语言支持&gt;键盘输入方式系统<br>然后选择 fcitx 项<br> 5、重启系统<br><code>sudo dpkg -i sougou_64.deb</code></p>
<p>这样一来，我们便可以在任何地方自由使用自己搭建好的虚拟机。如果你有多个虚拟机的需求，就可以把刚才的虚拟机设置为base，再进行克隆即可。这里建议使用链接克隆，这样的好处是可以仍旧使用原来系统的磁盘，省去了宝贵了磁盘空间。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/09/16/搭建私有云/" data-id="cjmkqmeg20003h07kj0j6rpy3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/09/16/git主要操作/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          git主要操作
        
      </div>
    </a>
  
  
    <a href="/2018/09/16/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/09/27/在Ubuntu上使用golang/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/09/16/git主要操作/">git主要操作</a>
          </li>
        
          <li>
            <a href="/2018/09/16/搭建私有云/">搭建私有云</a>
          </li>
        
          <li>
            <a href="/2018/09/16/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>